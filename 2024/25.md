[猬锔 Regresar](https://github.com/cosmoart/adventJS)

# Reto #25:  Ejecuta el lenguaje m谩gico

<details>
  <summary>Instrucciones</summary>

</br>

隆Ya hemos repartido todos los regalos! De vuelta al taller, ya comienzan los preparativos para el a帽o que viene.

Un elfo genio est谩 creando un lenguaje de programaci贸n m谩gico , que ayudar谩 a simplificar la entrega de regalos a los ni帽os en 2025.

Los programas siempre empiezan con el valor 0 y el lenguaje es una cadena de texto donde cada caracter representa una instrucci贸n:

- \> Se mueve a la siguiente instrucci贸n
- \+ Incrementa en 1 el valor actual
- \- Decrementa en 1 el valor actual
- [ y ]: Bucle. Si el valor actual es 0, salta a la instrucci贸n despu茅s de ]. Si no es 0, vuelve a la instrucci贸n despu茅s de [
{y }: Condicional. Si el valor actual es 0, salta a la instrucci贸n despu茅s de }. Si no es 0, sigue a la instrucci贸n despu茅s de {

Tienes que devolver el valor del programa tras ejecutar todas las instrucciones.

```js
execute('+++') // 3
execute('+--') // -1
execute('>+++[-]') // 0
execute('>>>+{++}') // 3
execute('+{[-]+}+') // 2
execute('{+}{+}{+}') // 0
execute('------[+]++') // 2
execute('-[++{-}]+{++++}') // 5
```

> Nota: Un condicional puede tener un bucle dentro y tambi茅n un bucle puede tener un condicional. Pero nunca se anidan dos bucles o dos condicionales.
</details>

<br/>

## Soluci贸n

```js
function execute(code) {
	let value = 0
	let i = 0
	let lastIndex = 0

	const cmds = {
		"+": () => ++value,
		"-": () => --value,
		"[": () => {
			if (value === 0) i = code.indexOf("]", i)
			lastIndex = i
		},
		"]": () => value !== 0 && (i = lastIndex),
		"{": () => value === 0 && (i = code.indexOf("}", i)),
	}

	for (i; i < code.length; i++) cmds[code[i]]?.()
	return value
}
```

> Puntaje: 

> 2257 ops/s

> Complejidad cognitiva: 10

<br/>

[猬锔 Regresar](https://github.com/cosmoart/adventJS)